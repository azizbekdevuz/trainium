@import "tailwindcss";

/* ===== Mobile Responsive Fallbacks ===== */
/* These classes provide fallback responsive behavior even if JavaScript fails */

/* Mobile-first responsive utilities */
@media (max-width: 768px) {
  .mobile-only {
    display: block !important;
  }
  .desktop-only {
    display: none !important;
  }
  .mobile-nav {
    display: flex !important;
  }
  .desktop-nav {
    display: none !important;
  }
}

@media (min-width: 769px) {
  .mobile-only {
    display: none !important;
  }
  .desktop-only {
    display: block !important;
  }
  .mobile-nav {
    display: none !important;
  }
  .desktop-nav {
    display: flex !important;
  }
}

/* Mobile menu viewport fixes */
@media (max-width: 768px) {
  /* Ensure mobile menu fits in viewport */
  .mobile-menu-container {
    max-height: 100vh;
    max-height: 100dvh; /* Dynamic viewport height for mobile browsers */
    overflow: hidden;
  }
  
  /* Handle mobile browser UI changes */
  .mobile-menu-content {
    max-height: calc(100vh - env(safe-area-inset-top) - env(safe-area-inset-bottom));
    max-height: calc(100dvh - env(safe-area-inset-top) - env(safe-area-inset-bottom));
  }
  
  /* Ensure scrollable content works on all mobile browsers */
  .mobile-menu-scrollable {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }
}

/* ===== Design tokens (minimalist + high-tech) ===== */
@theme {
  --font-sans: var(--font-inter), ui-sans-serif, system-ui, sans-serif;
  --font-display: var(--font-space), var(--font-sans);

  /* Base on white, cool neutrals + cyan accent */
  --color-bg: 248 250 252;       /* slate-50 */
  --color-fg: 15 23 42;          /* slate-900 */
  --color-card: 255 255 255;     /* white */
  --color-muted: 241 245 249;    /* slate-100 */
  --color-border: 226 232 240;   /* slate-200 */

  --color-primary: 14 165 233;   /* cyan-500 */
  --color-primary-ink: 8 145 178;/* cyan-600 */
  --color-glow: 34 211 238;      /* cyan-400 */
  --radius-lg: 1.25rem;
}

/* ===== Dark theme tokens (no change to light defaults) ===== */
.dark {
  --color-bg: 2 6 23;           /* slate-950 */
  --color-fg: 241 245 249;      /* slate-100 */
  --color-card: 15 23 42;       /* slate-900 */
  --color-muted: 3 7 18;        /* black-ish panel */
  --color-border: 30 41 59;     /* slate-700 */
  --color-primary: 34 211 238;  /* cyan-400 */
  --color-primary-ink: 6 182 212; /* cyan-500 */
  --color-glow: 14 165 233;     /* cyan-500 */
  color-scheme: dark;
}

/* ===== Dashboard Animations ===== */
@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slide-in-right {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes scale-in {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.animate-fade-in-up {
  animation: fade-in-up 0.3s ease-out;
}

.animate-slide-in-right {
  animation: slide-in-right 0.3s ease-out;
}

.animate-scale-in {
  animation: scale-in 0.2s ease-out;
}

/* ===== Page background: soft radial + grid-lines ===== */
html, body { height: 100%; }
body {
  background:
    radial-gradient(1200px 600px at 80% -10%, rgba(var(--color-glow),0.08), transparent 60%),
    radial-gradient(800px 400px at 10% 0%, rgba(99,102,241,0.08), transparent 60%),
    linear-gradient(180deg, rgba(var(--color-card),1), rgba(var(--color-bg),1));
  color: rgb(var(--color-fg));
}

.dark body {
  background:
    radial-gradient(1200px 600px at 80% -10%, rgba(var(--color-glow),0.12), transparent 60%),
    radial-gradient(800px 400px at 10% 0%, rgba(14,165,233,0.10), transparent 60%),
    linear-gradient(180deg, rgb(2,6,23), rgb(2,6,23));
}

/* ultra-light grid overlay */
.body-grid::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image: linear-gradient(to right, rgba(0,0,0,0.05) 1px, transparent 1px),
                    linear-gradient(to bottom, rgba(0,0,0,0.05) 1px, transparent 1px);
  background-size: 48px 48px;
  opacity: .06;
  mix-blend-mode: multiply;
  z-index: 0;
}

/* glass card */
.glass {
  background: rgba(var(--color-card), .8);
  backdrop-filter: saturate(140%) blur(6px);
  border: 1px solid rgb(var(--color-border));
  border-radius: var(--radius-lg);
}

/* Utility color bridges for existing Tailwind classes commonly used */
.dark .text-gray-700 { color: rgb(180 180 180) !important; }
.dark .text-gray-600 { color: rgb(203 213 225) !important; }
.dark .text-gray-500 { color: rgb(148 163 184) !important; }
.dark .text-gray-400 { color: rgb(100 116 139) !important; }
.dark .text-gray-800 { color: rgb(226 232 240) !important; }
.dark .text-gray-900, .dark .text-black { color: rgb(241 245 249) !important; }
.dark .text-gray-100 { color: rgb(36, 38, 42) !important; }
.dark .text-gray-300 { color: rgb(148 163 184) !important; }
.dark .text-slate-600 { color: rgb(203 213 225) !important; }
.dark .text-slate-700 { color: rgb(226 232 240) !important; }
.dark .text-slate-800 { color: rgb(241 245 249) !important; }
.dark .text-slate-900 { color: rgb(241 245 249) !important; }

.dark .bg-white { background-color: rgb(15 23 42) !important; }
.dark .bg-gray-50 { background-color: rgb(2 6 23) !important; }
.dark .bg-slate-50 { background-color: rgb(2 6 23) !important; }
.dark .bg-slate-100 { background-color: rgb(3 7 18) !important; }
.dark .bg-gray-100 { background-color: rgb(3 7 18) !important; }
.dark .bg-gray-200, .dark .bg-slate-200 { background-color: rgb(3 7 18) !important; }
.dark .bg-gray-300, .dark .bg-slate-300 { background-color: rgb(15 23 42) !important; }
.dark .hover\:bg-gray-50:hover { background-color: rgb(30 41 59) !important; }
.dark .hover\:bg-gray-100:hover { background-color: rgb(51 65 85) !important; }
/* Destructive buttons hover contrast */
.dark .hover\:bg-red-50:hover { background-color: rgb(127 29 29) !important; color: rgb(248 250 252) !important; }
/* Selected payment method pill */
.dark .bg-cyan-50 { background-color: rgb(15 23 42) !important; }

/* Accented pale backgrounds → legible dark variants (for unread badges/cards) */
.dark .bg-blue-50 { background-color: rgb(30 41 59) !important; }      /* slate-700 */
.dark .bg-green-50 { background-color: rgb(22 27 34) !important; }     /* near slate with green hint */
.dark .bg-yellow-50 { background-color: rgb(30 41 59) !important; }

/* Pale borders → darker in dark mode */
.dark .border-blue-200 { border-color: rgb(51 65 85) !important; }
.dark .border-green-200 { border-color: rgb(51 65 85) !important; }
.dark .border-yellow-200 { border-color: rgb(51 65 85) !important; }

/* Accented text on dark backgrounds */
.dark .text-blue-800, .dark .text-blue-700 { color: rgb(226 232 240) !important; }
.dark .text-green-800, .dark .text-green-700 { color: rgb(226 232 240) !important; }
.dark .text-yellow-800, .dark .text-yellow-700 { color: rgb(226 232 240) !important; }
.dark .text-purple-800, .dark .text-purple-700 { color: rgb(226 232 240) !important; }
.dark .text-indigo-800, .dark .text-indigo-700 { color: rgb(226 232 240) !important; }
.dark .text-red-800, .dark .text-red-700 { color: rgb(226 232 240) !important; }
.dark .text-gray-800, .dark .text-gray-700 { color: rgb(226 232 240) !important; }
.dark .text-cyan-800, .dark .text-cyan-700 { color: rgb(226 232 240) !important; }

/* Status pill pale backgrounds used in orders */
.dark .bg-blue-100 { background-color: rgb(30 41 59) !important; }
.dark .bg-green-100 { background-color: rgb(22 27 34) !important; }
.dark .bg-yellow-100 { background-color: rgb(30 41 59) !important; }
.dark .bg-purple-100 { background-color: rgb(30 41 59) !important; }
.dark .bg-indigo-100 { background-color: rgb(30 41 59) !important; }
.dark .bg-red-100 { background-color: rgb(45 13 13) !important; }
.dark .bg-gray-100 { background-color: rgb(30 41 59) !important; }
.dark .bg-cyan-100 { background-color: rgb(22 27 34) !important; }

/* Gradient bridges: when components use light gradients without dark: variants */
.dark .from-cyan-50 { --tw-gradient-from: rgb(2 6 23); --tw-gradient-to: rgb(2 6 23 / 0); --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to); }
.dark .to-blue-50 { --tw-gradient-to: rgb(2 6 23); }
.dark .from-blue-50 { --tw-gradient-from: rgb(2 6 23); --tw-gradient-to: rgb(2 6 23 / 0); --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to); }
.dark .to-cyan-50 { --tw-gradient-to: rgb(2 6 23); }
/* Additional admin analytics gradients */
.dark .from-emerald-50 { --tw-gradient-from: rgb(2 6 23); --tw-gradient-to: rgb(2 6 23 / 0); --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to); }
.dark .from-indigo-50 { --tw-gradient-from: rgb(2 6 23); --tw-gradient-to: rgb(2 6 23 / 0); --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to); }
.dark .to-white { --tw-gradient-to: rgb(2 6 23); }

.dark .border-gray-200, .dark .border-slate-200 { border-color: rgb(30 41 59) !important; }
.dark .border-gray-300, .dark .border-slate-300 { border-color: rgb(51 65 85) !important; }

.dark .shadow { box-shadow: 0 1px 2px 0 rgba(0,0,0,.6), 0 1px 3px 1px rgba(0,0,0,.4) !important; }

.dark .prose :where(p, h1, h2, h3, h4, h5, h6, strong) { color: rgb(var(--color-fg)); }

/* Form elements for dark mode readability */
.dark input, .dark textarea, .dark select {
  background-color: rgb(15 23 42) !important;
  color: rgb(241 245 249) !important;
  border-color: rgb(51 65 85) !important;
}
.dark input::placeholder, .dark textarea::placeholder {
  color: rgb(100 116 139) !important;
}
.dark label { color: rgb(226 232 240) !important; }
.dark fieldset { border-color: rgb(51 65 85) !important; }
.dark hr { border-color: rgb(30 41 59) !important; }

/* Text selection */
::selection { background-color: rgba(var(--color-primary), .25); }
.dark ::selection { background-color: rgba(6, 182, 212, .35); }


/* interactive states */
a, button { transition: transform .2s ease, box-shadow .2s ease, background .2s ease; }
.hover-raise:hover { transform: translateY(-2px); }

/* subtle press/hover feel */
a:hover, button:hover { filter: saturate(110%); }
a:active, button:active { transform: translateY(1px) scale(0.995); }

/* CSS Scroll-Driven Animations (with safe fallback) */
@supports (animation-timeline: scroll()) {
  @keyframes slideGlow {
    from { transform: translateX(-20%); opacity: .15; }
    to { transform: translateX(20%); opacity: .35; }
  }
  .scroll-glow {
    background: radial-gradient(300px 120px at 50% 50%, rgba(var(--color-glow),.35), transparent 60%);
    filter: blur(12px);
    animation: slideGlow 1 linear both;
    animation-timeline: scroll();
    animation-range: entry 20% exit 80%;
    will-change: transform, opacity;
  }
}

/* ===== ultra-light animation helpers ===== */
@media (prefers-reduced-motion: no-preference) {
  .animate-fade    { animation: fade 0.35s ease-out both; }
  .animate-fade-up { animation: fade-up 0.38s ease-out both; }
  .animate-bounce-soft { animation: bounce-soft .38s ease-out both; }
}

@keyframes fade {
  from { opacity: 0; }
  to   { opacity: 1; }
}
@keyframes fade-up {
  from { opacity: 0; transform: translateY(8px); }
  to   { opacity: 1; transform: translateY(0); }
}
@keyframes bounce-soft {
  0%   { transform: scale(.8); opacity:.7; }
  60%  { transform: scale(1.08); opacity:1; }
  100% { transform: scale(1); }
}

/* Fitness Character Animations */
@keyframes face-bounce {
  0%, 100% { transform: translateY(0) scale(1); }
  50% { transform: translateY(-4px) scale(1.05); }
}

@keyframes face-pulse {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.1); opacity: 0.8; }
}

@keyframes face-wiggle {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(-5deg); }
  75% { transform: rotate(5deg); }
}

@keyframes fade-in-up {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fade-in-up 0.6s ease-out;
}

.animate-face-bounce {
  animation: face-bounce 0.6s ease-in-out;
}

.animate-face-pulse {
  animation: face-pulse 0.8s ease-in-out;
}

.animate-face-wiggle {
  animation: face-wiggle 0.5s ease-in-out;
}

/* Admin Panel Enhancements */
.admin-panel {
  background: linear-gradient(135deg, rgba(var(--color-card), 0.8), rgba(var(--color-bg), 0.9));
  backdrop-filter: blur(10px);
  border: 1px solid rgba(var(--color-border), 0.5);
}

/* Enhanced Modal Overlays */
.modal-backdrop {
  backdrop-filter: blur(8px) saturate(150%);
  background: rgba(0, 0, 0, 0.4);
}

/* Ensure modals appear above header */
.modal-overlay {
  z-index: 80 !important;
}

.modal-content {
  z-index: 90 !important;
}

/* Force header to stay below modals */
header {
  z-index: 30 !important;
}

/* Force all header elements to stay below modals */
header * {
  z-index: inherit !important;
}

/* Ensure all modal backdrops are above header */
[data-headlessui-state] {
  z-index: 80 !important;
}

/* Force modal content above everything */
[role="dialog"] {
  z-index: 90 !important;
}

/* Ensure all modal overlays are above header */
.fixed.inset-0 {
  z-index: 80 !important;
}

/* Force modal content containers above everything */
.fixed.inset-0.flex.items-center.justify-center {
  z-index: 90 !important;
}

/* Fix for dialog blurriness */
[data-radix-dialog-content] {
  backdrop-filter: none !important;
  filter: none !important;
  transform: translate(-50%, -50%) !important;
  will-change: auto !important;
}

/* Ensure dialog content is crisp */
.dialog-content {
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.dark .modal-backdrop {
  background: rgba(0, 0, 0, 0.6);
}

/* Smooth transitions for admin components */
.admin-transition {
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Enhanced form focus states */
.form-focus {
  transition: all 0.2s ease;
}

.form-focus:focus {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(var(--color-primary), 0.15);
}

/* Card hover effects */
.card-hover {
  transition: all 0.2s ease;
}

.card-hover:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
}

.dark .card-hover:hover {
  box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
}

/* Status indicators */
.status-indicator {
  position: relative;
}

.status-indicator::before {
  content: '';
  position: absolute;
  top: 50%;
  left: -8px;
  transform: translateY(-50%);
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: currentColor;
}

/* Loading states */
.loading-shimmer {
  background: linear-gradient(90deg, 
    rgba(var(--color-muted), 0.4) 25%, 
    rgba(var(--color-muted), 0.8) 50%, 
    rgba(var(--color-muted), 0.4) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* Enhanced button states */
.btn-enhanced {
  position: relative;
  overflow: hidden;
}

.btn-enhanced::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  transition: left 0.5s;
}

.btn-enhanced:hover::before {
  left: 100%;
}

/* Removed temporary global button utilities to avoid Tailwind v4 layer conflicts */

/* ===== Homepage-only fixed header (minimal, no extra effects) ===== */
.home-fixed-header .site-header {
  position: fixed; top: 0; left: 0; right: 0;
  background: linear-gradient(180deg, rgba(14,165,233,0.14), rgba(2,132,199,0.18));
  border-bottom: 1px solid rgb(var(--color-border));
}
.dark.home-fixed-header .site-header {
  background: linear-gradient(180deg, rgba(14,165,233,0.22), rgba(2,132,199,0.28));
  border-bottom: 1px solid rgba(255,255,255,0.08);
}
.home-fixed-header { --home-header-h: 64px; }